"use strict";var filterButtons=document.querySelectorAll(".partners__filter-button"),partnerItems=document.querySelectorAll(".partners__list li");function sortAndDisplayCards(){var e=document.querySelector(".partners__list"),t=Array.from(document.querySelectorAll(".partners__card")).filter((function(e){return"none"!==e.parentElement.style.display}));t.sort((function(e,t){var r=e.querySelector(".partners-card-sum"),n=t.querySelector(".partners-card-sum"),o=e.querySelector(".partners-card-students"),c=t.querySelector(".partners-card-students"),a=r?parseFloat(r.textContent.replace(/\s/g,"").replace(",",".")):0,l=n?parseFloat(n.textContent.replace(/\s/g,"").replace(",",".")):0,s=o?parseFloat(o.textContent.replace(/\s/g,"").replace(",",".")):0,i=c?parseFloat(c.textContent.replace(/\s/g,"").replace(",",".")):0;return l-a!=0?l-a:i-s})),e.innerHTML="",t.forEach((function(t){return e.appendChild(t.parentElement)}))}function filterPartnerItems(e){partnerItems.forEach((function(t){var r=t.querySelectorAll(".partners__category"),n=document.querySelector(".partners__category_type_project"),o=!1;"Все"===e?(o=!0,n.style.display="flex"):r.forEach((function(t){t.textContent.trim()===e&&(o=!0,n.style.display="none")})),t.style.display=o?"flex":"none"}))}function countCategories(e){var t={education:0,science:0,dpo:0,project:0},r=document.querySelectorAll(".partners__card"),n=0;r.forEach((function(r){var o=r.querySelectorAll(".partners__category"),c=!1;"Все"===e?c=!0:o.forEach((function(t){t.textContent.trim()===e&&(c=!0)})),c&&(n++,o.forEach((function(e){var r=e.querySelector("img");if(r){var n=r.src;n.includes("education-icon-element")?t.education++:n.includes("science-icon-element")?t.science++:n.includes("dpo-icon-element")&&t.dpo++}})))}));var o=t.education+t.science+t.dpo;document.getElementById("project-summary").textContent=o,document.getElementById("all-summary").textContent=n}filterButtons.forEach((function(e){e.addEventListener("click",(function(){filterButtons.forEach((function(e){return e.classList.remove("partners__filter-button_active")})),this.classList.add("partners__filter-button_active");var e=this.textContent.trim();filterPartnerItems(e),countCategories(e)}))})),countCategories("Все"),filterPartnerItems("Все"),sortAndDisplayCards();