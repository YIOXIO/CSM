document.addEventListener("DOMContentLoaded",()=>{const e=(e,t)=>document.querySelector("."+e).innerHTML=t;function t(e){let t,c=e.toString();if(-1!==c.indexOf(".")){c=e.toString().split(".");const n=c[0],a=c[1];t=n.length<=3?n:n.replace(/(\d)(?=(\d{3})+$)/g,"$1 "),t+="."+a}else t=c.length<=3?c:c.replace(/(\d)(?=(\d{3})+$)/g,"$1 ");return t}function c(e,t){let c;return c=t>100?e.length:Math.round(e.length/100*t),c}function n(e,t,c){for(let n=0;n<t;n++)e[n].style.fill=c}!function(a){e("science__info-title__date",a.date),e("science__info-block-value_current-receipt",t(a.currentReceipts)),e("science__info-block-value_expected-receipt",t(a.expectedReceipts.sum)),e("science__info-block-descr_expected-receipt span",a.expectedReceipts.date),e("science__info-block_technical-value_current-receipt",t(a.currentReceiptsTechnicals)),e("science__info-block_technical-value_expected-receipt",t(a.expectedReceiptsTechnicals.sum)),e("science__info-block-descr_technical-expected-receipt span",a.expectedReceipts.date),e("science__info-block-value_scoups",t(a.publications.scopus.scopusTotal)),e("science__info-block-value_scoups_q1-q2",t(a.publications.scopus.q1q2Total)),e("science__info-block-value_wos",t(a.publications.wos.wosTotal)),e("science__info-block-value_wos_q1-q2",t(a.publications.wos.q1q2Total));const o=Array.from(document.querySelectorAll(".science__data-plan__progressbar path")),l=(a.currentReceipts/a.currentPlan*100).toFixed(2);n(o,c(o,l),"#217Aff"),e("science__data-plan__info-ratio_fact",l+"%"),e("science__data-plan__info-value_fact",t(a.currentReceipts)),e("science__data-plan__info-value_planned",t(a.currentPlan));const i=Array.from(document.querySelectorAll(".science-technical__data-plan__progressbar path")),s=(a.currentReceiptsTechnicals/a.currentPlanTechnical*100).toFixed(2);n(i,c(i,s),"#FB9B2B"),e("science-technical__data-plan__info-ratio_fact",s+"%"),e("science-technical__data-plan__info-value_fact",t(a.currentReceiptsTechnicals)),e("science-technical__data-plan__info-value_planned",t(a.currentPlanTechnical));const r=a.publications.scopus.scopusInSixMonths,u=a.publications.scopus.q1q2InSixMonths,_=Array.from(document.querySelectorAll(".science__data-diagram__item-scopus")),m=Array.from(document.querySelectorAll(".science__data-diagram__item-scopus-q1-q2")),p=Array.from(document.querySelectorAll(".science__data-diagram__item-value-scopus")),d=Array.from(document.querySelectorAll(".science__data-diagram__item-value-scopus-q1-q2")),h=Array.from(document.querySelectorAll(".science__data-diagram__months-scopus span")),f=a.publications.wos.wosInSixMonths,v=a.publications.wos.q1q2InSixMonths,q=Array.from(document.querySelectorAll(".science__data-diagram__item-wos")),A=Array.from(document.querySelectorAll(".science__data-diagram__item-wos-q1-q2")),y=Array.from(document.querySelectorAll(".science__data-diagram__item-value-wos")),b=Array.from(document.querySelectorAll(".science__data-diagram__item-value-wos-q1-q2")),x=Array.from(document.querySelectorAll(".science__data-diagram__months-wos span"));function S(e,t,c,n,a,o,l,i){const s=e=>e.map(e=>e.value),r=[...s(e),...s(t)],u=Math.max(...r);function _(e,t,c,n,a){e.map((e,o)=>{t[o].textContent=e.value;let l=e.value/n*100;c[o].setAttribute("height",l+"%"),c[o].setAttribute("y",100-l+"%"),c[o].querySelector("rect").setAttribute("fill",a)})}e.map((e,t)=>l[t].textContent=e.month),_(e,c,a,u,i[0]),_(t,n,o,u,i[1])}S(r,u,p,d,_,m,h,["#217AFF","#44BCFF"]),S(f,v,y,b,q,A,x,["#FB9B2B","#FFDD85"])}({date:"04.02.2024",currentPlan:503760.6,expectedReceipts:{date:"31.12.2024",sum:236166.5},currentPlanTechnical:101749.4,currentReceiptsTechnicals:75310.7,expectedReceiptsTechnicals:{sum:101749.4},currentReceipts:40220.5,publications:{scopus:{scopusTotal:694,q1q2Total:113,scopusInSixMonths:[{month:"Май",value:151},{month:"Июнь",value:112},{month:"Июль",value:70},{month:"Август",value:94},{month:"Сентябрь",value:59},{month:"Октябрь",value:41}],q1q2InSixMonths:[{month:"Май",value:25},{month:"Июнь",value:59},{month:"Июль",value:28},{month:"Август",value:45},{month:"Сентябрь",value:33},{month:"Октябрь",value:13}]},wos:{wosTotal:407,q1q2Total:113,wosInSixMonths:[{month:"Май",value:55},{month:"Июнь",value:32},{month:"Июль",value:61},{month:"Август",value:68},{month:"Сентябрь",value:44},{month:"Октябрь",value:44}],q1q2InSixMonths:[{month:"Май",value:18},{month:"Июнь",value:7},{month:"Июль",value:6},{month:"Август",value:8},{month:"Сентябрь",value:6},{month:"Октябрь",value:17}]}}})});