document.addEventListener("DOMContentLoaded",()=>{const e=(e,t)=>document.querySelector("."+e).innerHTML=t;function t(e){let t,n=e.toString();if(-1!==n.indexOf(".")){n=e.toString().split(".");const c=n[0],a=n[1];t=c.length<=3?c:c.replace(/(\d)(?=(\d{3})+$)/g,"$1 "),t+="."+a}else t=n.length<=3?n:n.replace(/(\d)(?=(\d{3})+$)/g,"$1 ");return t}function n(e,t){let n;return n=t>100?e.length:Math.round(e.length/100*t),n}function c(e,t,n){for(let c=0;c<t;c++)e[c].style.fill=n}!function(a){const o=e=>0===e||isNaN(e);(o(a.currentPlan)||o(a.currentReceipts)||o(a.expectedReceipts.sum))&&(document.querySelector(".science__data-plan").style.display="none",document.querySelector(".science__inner").style.display="none",document.querySelector(".science__separator").style.margin="0 0 1.5vh"),e("science__info-title__date",a.date),e("science__info-block-value_current-receipt",t(a.currentReceipts)),e("science__info-block-value_expected-receipt",t(a.expectedReceipts.sum)),e("science__info-block-descr_expected-receipt span",a.expectedReceipts.date),e("science__info-block_technical-value_current-receipt",t(a.currentReceiptsTechnicals)),e("science__info-block_technical-value_expected-receipt",t(a.expectedReceiptsTechnicals.sum)),e("science__info-block-descr_technical-expected-receipt span",a.expectedReceipts.date),e("science__info-block-value_scoups",t(a.publications.scopus.scopusTotal)),e("science__info-block-value_scoups_q1-q2",t(a.publications.scopus.q1q2Total)),e("science__info-block-value_wos",t(a.publications.wos.wosTotal)),e("science__info-block-value_wos_q1-q2",t(a.publications.wos.q1q2Total));const l=Array.from(document.querySelectorAll(".science-nir__data-plan__progressbar path")),i=(a.currentReceipts/a.currentPlan*100).toFixed(2);c(l,n(l,i),"#217Aff"),e("science__data-plan__info-ratio_fact",i+"%"),e("science__data-plan__info-value_fact",t(a.currentReceipts)),e("science__data-plan__info-value_planned",t(a.currentPlan)),e("science__info-block-value_egpni-bs",t(a.publications.egpniBs.total)),e("science__info-block-value_egpni-bs_q1-q2",t(a.publications.egpniBs.q1q2Total));const s=Array.from(document.querySelectorAll(".science-technical__data-plan__progressbar path")),r=(a.currentReceiptsTechnicals/a.currentPlanTechnical*100).toFixed(2);c(s,n(s,r),"#FB9B2B"),e("science-technical__data-plan__info-ratio_fact",r+"%"),e("science-technical__data-plan__info-value_fact",t(a.currentReceiptsTechnicals)),e("science-technical__data-plan__info-value_planned",t(a.currentPlanTechnical));const u=a.publications.scopus.scopusInSixMonths,_=a.publications.scopus.q1q2InSixMonths,m=Array.from(document.querySelectorAll(".science__data-diagram__item-scopus")),p=Array.from(document.querySelectorAll(".science__data-diagram__item-scopus-q1-q2")),d=Array.from(document.querySelectorAll(".science__data-diagram__item-value-scopus")),h=Array.from(document.querySelectorAll(".science__data-diagram__item-value-scopus-q1-q2")),q=Array.from(document.querySelectorAll(".science__data-diagram__months-scopus span")),v=a.publications.wos.wosInSixMonths,f=a.publications.wos.q1q2InSixMonths,y=Array.from(document.querySelectorAll(".science__data-diagram__item-wos")),A=Array.from(document.querySelectorAll(".science__data-diagram__item-wos-q1-q2")),g=Array.from(document.querySelectorAll(".science__data-diagram__item-value-wos")),b=Array.from(document.querySelectorAll(".science__data-diagram__item-value-wos-q1-q2")),S=Array.from(document.querySelectorAll(".science__data-diagram__months-wos span")),x=a.publications.egpniBs.dataInSixMonths,T=a.publications.egpniBs.q1q2InSixMonths,w=Array.from(document.querySelectorAll(".science__data-diagram__item-egpni-bs")),M=Array.from(document.querySelectorAll(".science__data-diagram__item-egpni-bs-q1-q2")),R=Array.from(document.querySelectorAll(".science__data-diagram__item-value-egpni-bs")),B=Array.from(document.querySelectorAll(".science__data-diagram__item-value-egpni-bs-q1-q2")),k=Array.from(document.querySelectorAll(".science__data-diagram__months-egpni-bs span"));function I(e,t,n,c,a,o,l,i){const s=e=>e.map(e=>e.value),r=[...s(e),...s(t)],u=Math.max(...r);function _(e,t,n,c,a){e.map((e,o)=>{t[o].textContent=e.value;let l=e.value/c*100;n[o].setAttribute("height",l+"%"),n[o].setAttribute("y",100-l+"%"),n[o].querySelector("rect").setAttribute("fill",a)})}e.map((e,t)=>l[t].textContent=e.month),_(e,n,a,u,i[0]),_(t,c,o,u,i[1])}I(u,_,d,h,m,p,q,["#217AFF","#44BCFF"]),I(v,f,g,b,y,A,S,["#FB9B2B","#FFDD85"]),I(x,T,R,B,w,M,k,["#03C544","#7BE9A0"])}({date:"04.02.2024",currentPlan:13,currentReceipts:12,expectedReceipts:{date:"31.12.2024",sum:32},currentPlanTechnical:101749.4,currentReceiptsTechnicals:75310.7,expectedReceiptsTechnicals:{sum:101749.4},publications:{scopus:{scopusTotal:694,q1q2Total:113,scopusInSixMonths:[{month:"Май",value:151},{month:"Июнь",value:112},{month:"Июль",value:70},{month:"Август",value:94},{month:"Сентябрь",value:59},{month:"Октябрь",value:41}],q1q2InSixMonths:[{month:"Май",value:25},{month:"Июнь",value:59},{month:"Июль",value:28},{month:"Август",value:45},{month:"Сентябрь",value:33},{month:"Октябрь",value:13}]},wos:{wosTotal:407,q1q2Total:113,wosInSixMonths:[{month:"Май",value:55},{month:"Июнь",value:32},{month:"Июль",value:61},{month:"Август",value:68},{month:"Сентябрь",value:44},{month:"Октябрь",value:44}],q1q2InSixMonths:[{month:"Май",value:18},{month:"Июнь",value:7},{month:"Июль",value:6},{month:"Август",value:8},{month:"Сентябрь",value:6},{month:"Октябрь",value:17}]},egpniBs:{total:250,q1q2Total:120,dataInSixMonths:[{month:"Май",value:40},{month:"Июнь",value:35},{month:"Июль",value:45},{month:"Август",value:50},{month:"Сентябрь",value:55},{month:"Октябрь",value:25}],q1q2InSixMonths:[{month:"Май",value:20},{month:"Июнь",value:15},{month:"Июль",value:25},{month:"Август",value:30},{month:"Сентябрь",value:35},{month:"Октябрь",value:10}]}}})});