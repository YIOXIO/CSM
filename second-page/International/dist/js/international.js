document.addEventListener("DOMContentLoaded",()=>{const e=(e,a)=>document.querySelector("."+e).innerHTML=a;function a(e){let a,n=e.toString();if(-1!==n.indexOf(".")){n=e.toString().split(".");const t=n[0],i=n[1];a=t.length<=3?t:t.replace(/(\d)(?=(\d{3})+$)/g,"$1 "),a+="."+i}else a=n.length<=3?n:n.replace(/(\d)(?=(\d{3})+$)/g,"$1 ");return a}!function(n){class t{constructor(e,a,n,t){this.data=e,this.parentSelector=a,this.className="international__unions-legend",this.parent=document.querySelector("."+this.parentSelector),this.colors=n,this.color=t,this.setGraphiс(),this.categoryRatio(),this.setGraphiсOrange()}get sumData(){const e=[];for(let a=0;a<this.data.length;a++)e.push(this.data[a].value);return e.reduce((e,a)=>e+a)}categoryRatio(e){return Math.ceil(e/this.sumData*100)}"setGraphiс"(e,n,t="#217AFF"){return`\n                <div class="international__graphic-item">\n                    <div class="international__graphic-info">\n                        <div class="international__graphic-descr">${e}</div>\n                    </div>\n                    \n                    <svg class="international__graphic-line" width="100%" overflow="visible" viewBox="0 0 120 3" fill="none" xmlns="http://www.w3.org/2000/svg">\n                        <svg class="international__graphic-line-data" width="${this.categoryRatio(n)+5}%" x="0" y="0" >\n                            <rect class="international__graphic-line-row" width="100%" fill="${t}" x="1.8" y="0.45"/>\n                            <rect  class="international__graphic-line-right-rect" stroke="${t}"; x="100%" y="0"  fill="white"/>\n                            <text class="international__graphic-line-value" x="100%" y="${this.categoryRatio(n)<=5?"2":"-3.5"}"  text-anchor="middle" dy="0.3em" transform="translate(${this.categoryRatio(n)<=10?"15":"-12"})">\n                            ${a(+n)}\n                            </text>\n                        </svg>\n                    </svg>\n                </div>\n                `}"setGraphiсOrange"(e,n,t){return`\n                <div class="international__graphic-item">\n                    <div class="international__graphic-info">\n                        <div class="international__graphic-descr">${e}</div>\n                    </div>\n                    \n                    <svg class="international__graphic-line" width="100%" overflow="visible" viewBox="0 0 120 3" fill="none" xmlns="http://www.w3.org/2000/svg">\n                        <svg class="international__graphic-line-data" width="${this.categoryRatio(n)+5}%" x="0" y="0" >\n                            <rect class="international__graphic-line-row" width="100%" fill="${t}" x="0" y="0.45"/>\n                            <text class="international__graphic-line-value" x="100%" y="2"  text-anchor="middle" dy="0.3em" transform="translate(10)">\n                                ${a(+n)}\n                            </text>\n                        </svg>\n                    </svg>\n                </div>\n                `}render(){const e=document.createElement("div");e.classList.add(this.className);let a=[];a="orange"===this.color?this.data.map(e=>this.setGraphiсOrange(e.name,e.value,"#FB9B2B")):"blue"===this.color?this.data.map(e=>this.setGraphiс(e.name,e.value)):this.data.map((e,a)=>this.setGraphiс(e.name,e.value,this.colors[a])),e.innerHTML=a.join(" "),this.parent.append(e)}}new t(n[0].inDetail,"international__graphics-boby-unions",["#EF8E8E","#4CD382","#6C38FF"],"colored").render(),e("international__unions-diagram-value",n[0].unions),e("international__info-value_foreign-language",n[1].learnforeignLanguages),e("international__info-value_accreditation",n[1].accreditedProgrammes),e("international__info-value_rate",n[1].rate),new t(n[2].inDetail,"international__data-body_resources",null,"blue").render(),new t(n[3].inDetail,"international__data-body_students",null,"blue").render(),new t(n[4].foreignlLanguages,"international__data-body_foreign-languages",null,"blue").render(),new t(n[5].additionalProgrammes,"international__data-body_additional-programmes",null,"orange").render(),function(e,n){const t=[];let i=0;for(let e in n)document.querySelector(".international__diagram-body-value_"+e).textContent=a(n[e]),t.push(n[e]);i=t.reduce((e,a)=>e+a),e.map((e,a)=>{let n=Math.ceil(t[a]/i*100);n<5&&(n=10),e.style.height=n+"%"})}(Array.from(document.querySelectorAll(".international__diagram-column_resources")),n[2].resources)}([{unions:12,inDetail:[{name:"Коммерческие организации",value:5},{name:"Некоммерческие организации",value:6},{name:"Научные организации",value:1}]},{learnforeignLanguages:2035,accreditedProgrammes:44,rate:5},{resources:{citizens:1117.9,organisations:2241.6},inDetail:[{name:"По образовательным программам",value:109336.3},{name:"Научные исследования и разработки",value:290.3},{name:"Плата за пользование общежитием",value:4354.9}]},{students:3915,inDetail:[{name:"Республика Узбекистан",value:1074},{name:"Монголия",value:768},{name:"Республика Беларусь",value:506},{name:"Республика Казахстан",value:236},{name:"Республика Таджикистан",value:223},{name:"Киргизская Республика",value:147},{name:"Вьетнам",value:97},{name:"Китай",value:84},{name:"Франция",value:79},{name:"Украина",value:75},{name:"Республика Молдова",value:67},{name:"другие страны",value:559}]},{foreignlLanguages:[{name:"Английский",value:2178},{name:"Испанский",value:890},{name:"Итальянский",value:53},{name:"Китайский",value:239},{name:"Немецкий",value:915},{name:"Французский",value:517},{name:"Японский",value:14}]},{additionalProgrammes:[{name:"дополнительные общеразвивающие программы для детей",value:776},{name:"дополнительные общеразвивающие программы для взрослых",value:4766},{name:"Программы повышения квалификации",value:14081},{name:"Программы профессиональной переподготовки",value:1307}]}])});